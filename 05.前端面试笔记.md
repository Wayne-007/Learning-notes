# 前端面试笔记

## HTML

### 一、html5语义化

#### 1、定义：

用合理、正确的标签来展示内容，比如h1～h6定义标题；

#### 2、优点：

- 易于用户阅读，如果样式丢失也能呈现清晰的结构；
- 有利于SEO，搜索引擎根据标签来确定上下文和各关键字的权重；
- 方便其他设备解析，如盲人阅读器根据语义渲染网页；
- 有利于开发和维护，语义化更具有可读性，代码更好维护，与CSS3关系更和谐；

### 二、谈一下对link标签和script标签位置的理解

#### 1、把link放在head标签内:

- 这个是W3C规范要求的内容；
- 可以防止呈现给用户空白的页面或没有样式的页面；
- 有利于页面逐步呈现（放在底部就不能逐步呈现页面），提高用户体验；
- 不放在head的话，有些浏览器会阻止渲染，以免样式在发生变化时引起重绘（repaint）/回流（reflow）；

#### 2、把script放在body结束标签前面：

- 脚本在下载和执行期间会阻止html解析，放在底部，保证DOM首先完成解析，将页面尽快呈现给用户；
- 例外：如果脚本包含`document.write()`时，可是不推荐使用`document.write()`；
- 缺点：文档被解析才可以下载；折中：使用defer属性（规定是否对脚本执行进行延迟，直到页面加载为止。）放在head标签内；

### 三、谈一谈渐进式渲染（progressive rendering）

#### 1、定义：

渐进式渲染用于提高网页性能（尤其是提高用户感知的加载速度），以尽快呈现页面的技术；

#### 2、技术：

- 图片懒加载；
- 确定显示内容的优先级（分层次渲染），如先加载少量的基础的css、脚本和内容，然后用延时加载脚本或监听DOMContentLoaded/load事件加载其他资源和内容；
- 异步加载HTML片段；

### 四、viewport——视图窗口



#### 1、定义：

将设备浏览器宽度虚拟成一个特定的值（或计算得出），这样利于移动web站点跨设备显示效果基本一致。

在移动端浏览器中存在两种视口：

- 可见视口（即设备大小）
- 视窗视口（网页的宽度）

为了显示更多内容，大多数浏览器会把自己的视窗视口扩大，即让原本320像素的屏款能够容下980像素甚至更宽的内容（将网页等比例缩小）。

#### 2、viewport属性值：

```html
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
```

- width：设置layout viewport的宽度，为一个正整数或者是字符串`width-device`;
- initial-scale：设置页面的初始缩放值，为一个数字并且可带小数；
- minimum-scale：允许用户的最小缩放值，为一个数字，可以带小数；
- maximum-scale：允许用户的最大缩放值，为一个数字，可以带小数；
- height：设置layout viewport的高度，很少用；
- user-scalable：是否允许用户进行缩放，`yse`/`no`，`yes`代表允许这些属性同时或单独使用，多属性同时使用时用逗号隔开；

### 五、重绘（repaint）和回流（reflow）——不可避免

#### 1、重绘：

当影响`DOM`元素可见性的属性发生变化时，浏览器会重新描绘对应的元素，`回流必然引起重绘`；

#### 2、回流

当涉及到`DOM`节点的布局属性发生变化时，就会重新计算该属性，浏览器会重新描绘相应的元素；

#### 3、引起重绘/回流（重排）的操作：

- 调整窗口大小；
- 字体大小改变；
- 样式表变动；
- 元素内容变化，尤其是输入控件；
- CSS伪类激活，在用户交互过程中发生；
- `DOM`操作，`DOM`元素的增删改；
- windth，clienWidth，scrollTop等布局宽高的计算；

#### 4、减少重绘/回流的建议

- 避免逐条更改样式。建议集中修改样式，例如操作claseName；
- 避免频繁操作`DOM`。创建一个documentFragment或div，在它上面应用所有`DOM`操作，最后添加到文档里。设置`display:none`的元素上操作，最后显示出来；
- 避免频繁读取元素几何属性（eg：scrollTop）。绝对定位具有复杂动画的元素；
- 绝对定位使它脱离文档流，避免引起父元素及后续元素大量的回流；

### 六、img标签中的alt属性和元素title属性的作用

- alt属性：如果图像无法显示，浏览器将显示alt指定的内容；
- 元素title属性：鼠标移到元素上时显示title的内容；

### 七.href和src区别

#### 1、href：

- 标示超文本引用，是引用和页面关联，是在当前元素和引用资源之间建立联系；
- 并行下载并且不会停止对当前文档的处理，这也是不用`@import`的原因；

#### 2、src：

- 表示引用资源，替换当前元素；
- 浏览器解析道这里会暂停其他资源的下载和处理（图片除外），直到将该资源加载、编译、执行完毕，类似于将所指向资源应用到当前内容，这也是`script`标签放置位置的原因；

### 八、浏览器渲染过程

1. 解析HTML生成DOM树；
2. 解析CSS生成CSSOM规则树；
3. 将DOM树与CSSOM规则树合并在一起生成渲染树；
4. 遍历渲染树开始布局，计算每个节点的位置大小信息；
5. 将渲染树每个节点绘制到屏幕；

### 九、浏览器兼容问题

#### 1、起因：

- 同一产品，版本越老bug越多；
- 同一产品，版本越新，功能越多；
- 不同产品，不同标准，不同实现方式；

#### 2、处理兼容问题的思路：

1. 要不要做；

2. 产品的角度（产品的受众、受众的浏览器比例、效果优先还是基本功能优先）；

3. 成本的角度 (有无必要做某件事)；

4. 做到什么程度，让哪些浏览器支持哪些效果；

5. 如何做 ？*根据兼容需求选择技术框架/库(jquery)* ；根据兼容需求选择兼容工具(html5shiv.js、respond.js、css reset、normalize.css、Modernizr) * 条件注释、CSS Hack、js 能力检测做一些修补；

   - 渐进增强（progressive enhancement）

    针对低版本浏览器进行构建页面，保证最基本的功能，然后再针对高级浏览器进行效果、交互等改进和追加功能达到更好的用户体验；

   - 优雅降级 (graceful degradation)

   一开始就构建完整的功能，然后再针对低版本浏览器进行兼容；

### 十、doctype有什么用？

doctype是一种标准通用标记语言的文档类型声明（声明是用来指示web浏览器关于页面使用哪个HTML版本进行编写的指令。声明必须是HTML文档的第一行，位于html标签之前。），目的是告诉标准通用标记语言解析器要使用什么样的文档类型定义（DTD）来解析文档。

浏览器本身分为两种模式，一种是***标准模式***，一种是***怪异模式***，浏览器通过doctype来区分这两种模式，doctype在html中的作用就是触发浏览器的标准模式，如果html中省略了doctype，浏览器就会进入到Quirks模式的怪异状态，在这种模式下，有些样式会和标准模式存在差异，而html标准和dom标准值规定了标准模式下的行为，没有对怪异模式做出规定，因此不同浏览器在怪异模式下的处理也是不同的，所以一定要在html开头使用doctype。

### 十一、行内元素和块级元素

#### 1、行内元素：

- 一个行内元素只占据它对应标签的边框所包含的空间；

- 一般情况下，行内元素只能包含数据和其他行内元素；

  ```text
  b, big, i, small, tt
  abbr, acronym, cite, code, dfn, em, kbd, strong, samp, var
  a, bdo, br, img, map, object, q, script, span, sub, sup
  button, input, label, select, textarea
  ```

#### 2、块级元素

- 占据一整行，高度、行高、内边距和外边距都可以改变，可以容纳块级标签和其他行内标签；

  ```text
  header,form,ul,ol,table,article,div,hr,aside,figure,canvas,video,audio,footer
  ```

### 十二、iframe框架的优点/缺点

#### 1、优点

- iframe能够原封不动的把嵌入的网页展现出来；
- 如果有多个网页引用iframe，只需要修改iframe里面的内容，就可以实现调用的每一个页面内容的更改，方便快捷；
- 网页如果为了统一风格，头部和版本都是一样的，就可以写成一个页面，用iframe来嵌套，增强代码的可重用性；
- 如果遇到加载缓慢的第三方内容，如广告和图标，这些问题就可以由iframe来解决；

#### 2、缺点

- 搜索引擎的爬虫程序无法解读这种页面；
- 框架结构中出现各种滚动条；
- 使用框架结构时，保证设置正确的导航链接；
- iframe页面会增加服务器的http请求；

### 十三、label标签



